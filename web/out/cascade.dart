// Auto-generated from cascade.html.
// DO NOT EDIT.

library cascade_html;

import 'dart:html' as autogenerated;
import 'dart:svg' as autogenerated_svg;
import 'package:web_ui/web_ui.dart' as autogenerated;
import 'package:web_ui/observe/observable.dart' as __observe;
import 'xgamecell.dart';
import 'dart:html';
import 'dart:math';
import 'package:web_ui/web_ui.dart';


// Original code


// initial value for click-counter
int startingCount = 5;
List<List<Cell>> cells; //= ['1121','3231','2123','1233','3321'];

class Cell {
  int contents = 0;
  Cell(this.contents);
}

/**
 * Learn about the Web UI package by visiting
 * http://www.dartlang.org/articles/dart-web-components/.
 */
void main() {
  // Enable this to use Shadow DOM in the browser.
  //useShadowDom = true;
  newGame();
}

void newGame(){
  generateCells(9,7);
}

void generateCells(int width, int height){
  var rng = new Random();
  cells = new List<List<Cell>>.generate(height, (i)=>new List<Cell>.generate(width,(j)=>new Cell(rng.nextInt(3)+1)));
}
// Additional generated code
void init_autogenerated() {
  var __root = autogenerated.document.body;
  final __html0 = new autogenerated.TableRowElement(), __html1 = new autogenerated.Element.html('<td>\n              <div is="x-game-cell"></div>\n            </td>');
  var __e3, __e4;
  var __t = new autogenerated.Template(__root);
  __e3 = __root.nodes[5].nodes[1].nodes[1];
  __t.loopIterateAttr(__e3, () => cells, ($list, $index, __t) {
    var row = $list[$index];
    var __e2;
    __e2 = __html0.clone(true);
    __t.loopIterateAttr(__e2, () => row, ($list, $index, __t) {
      var cell = $list[$index];
      var __e0, __e1;
      __e1 = __html1.clone(true);
      __e0 = __e1.nodes[1];
      __t.oneWayBind(() => cell.contents, (e) { if (__e0.xtag.contents != e) __e0.xtag.contents = e; }, false, false);
      __t.component(new CellComponent()..host = __e0);
    __t.addAll([new autogenerated.Text('\n            '),
        __e1,
        new autogenerated.Text('\n          ')]);
    });
  __t.addAll([new autogenerated.Text('\n          '),
      __e2,
      new autogenerated.Text('\n        ')]);
  });
  __e4 = __root.nodes[5].nodes[3];
  __t.listen(__e4.onClick, ($event) { newGame(); });
  __t.create();
  __t.insert();
}

//@ sourceMappingURL=cascade.dart.map